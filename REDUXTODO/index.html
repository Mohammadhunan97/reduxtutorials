<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.6/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.6/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/3.7.2/redux.js"></script>
  </head>
  <body>
    <div id="app"></div>

  <script type="text/babel">
  let createStore = Redux.createStore;

  const Todo = (state = [], action) => {
    switch(action.type) {
      case 'ADD-ITEM':
        return state.concat([action.item]);
      case 'REMOVE-ITEM':
        // remove something
      default:
        return state;
    }
  }

let store = createStore(Todo);

class List extends React.Component {
  render(){
      let List = () => {
      let items = [];
      store.getState().map((item,i) => {
        items.push(<li key={i}>{item}</li>)
      })
      return items;
    }
    return(<ul id="List">{List()}</ul>)
  }
}


class Todolist extends React.Component {
  render(){
    return(<div id="Todolist">
      <h1>Todo List</h1>
      <hr />
      <input ref="textInput" onClick={(e) => this.textInput = e.target} />
      <button onClick={() => store.dispatch({type: 'ADD-ITEM', item: this.textInput.value})}>click me</button>

      <br />
      <List />
    </div>)
  }
}


let render = () => {
  ReactDOM.render(<Todolist />, document.getElementById('app'));  
  console.log(store.getState());
}

store.subscribe(render);
render();


  </script>




  </body>
</html>